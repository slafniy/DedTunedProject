# Indicates that owner is near pickpocketing victim and will have SleightOfHand debuff
new entry "DT_PICKPOCKETING_DEBUFF"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ";1"
data "Description" ";1"
data "DescriptionParams" "3"
data "Icon" "statIcons_GOB_GoblinPriest_Chains"
data "StatusPropertyFlags" "IgnoreResting"


# Just an indicator in game that it is the theft victim
new entry "DT_PICKPOCKETING_VICTIM"
type "StatusData"
data "StackId" "DT_PICKPOCKETING_VICTIM"
data "StatusType" "BOOST"
data "DisplayName" ";1"
data "Description" ";1"
data "Icon" "statIcons_Madness"
data "StatusPropertyFlags" "IgnoreResting"


# Tracks movement to trigger StatusApplied event.
# I cannot find another way to handle that pickpocketing window closed,
# so logic works basing on distance between Thief and Victim, and the game does not provide (or I cannot find)
# an event to track movements
new entry "DT_MoveEventGeneratorPassive"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctorContext" "OnMovedDistance"
data "StatsFunctors" "ApplyStatus(SELF,DT_PICKPOCKETING_JUST_MOVED,100,1)"

new entry "DT_PICKPOCKETING_JUST_MOVED"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" ";1"
data "Description" ";1"
data "Icon" "Action_Paladin_AuraOfWarding"
data "OnApplyFunctors" "RemoveStatus(DT_PICKPOCKETING_JUST_MOVED)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"