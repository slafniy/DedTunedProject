# This intermediate status is needed because statuses applied by SPIKE_GROWTH disappear
# when Target_SpikeGrowth concentration breaks
new entry "DT_SPIKE_GROWTH_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
data "Description" ""
data "OnApplyFunctors" "IF(HasStatus('GAPING_WOUND')):SetStatusDuration(GAPING_WOUND,1,Add);IF(HasStatus('BLEEDING')):SetStatusDuration(BLEEDING,1,Add);IF(not HasStatus('GAPING_WOUND')):ApplyStatus(GAPING_WOUND,100,2);IF(not HasStatus('BLEEDING')):ApplyStatus(BLEEDING,100,2);RemoveStatus(DT_SPIKE_GROWTH_TECHNICAL)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SPIKE_GROWTH"
type "StatusData"
using "SPIKE_GROWTH"
data "Description" "haf04bca8g382dg4023gac6bg9ae60681e236;4"
data "DescriptionParams" ""
data "OnApplyFunctors" ""
data "OnApplyRoll" "not SavingThrow(Ability.Dexterity,CalculateSpellDC(context.PreferredCastingAbility, GetSummoner(context.Source)))"
data "OnApplySuccess" "ApplyStatus(DT_SPIKE_GROWTH_TECHNICAL,100,1)"
data "StatusPropertyFlags" "InitiateCombat;DisableOverhead;DisableCombatlog;DisablePortraitIndicator"


new entry "Target_SpikeGrowth"
type "SpellData"
using "Target_SpikeGrowth"
data "SpellProperties" "GROUND:CreateSurface(4,10,SpikeGrowth,true)"
data "AreaRadius" "4"
data "Description" "h773bc297g6dcdg4452ga03cg2ddf400ae3eb;1"
data "DescriptionParams" ""
data "TooltipDamageList" ""
data "TooltipAttackSave" "Dexterity"
data "TooltipStatusApply" "ApplyStatus(SPIKE_GROWTH,100,10)"
data "TooltipUpcastDescription" "fcc00846-6526-4d5d-9933-7f3e0bd7e2ef"
data "DamageType" ""

new entry "Target_SpikeGrowth_3"
type "SpellData"
using "Target_SpikeGrowth_3"
data "SpellProperties" "GROUND:CreateSurface(6,10,SpikeGrowth,true)"
data "AreaRadius" "6"

new entry "Target_SpikeGrowth_4"
type "SpellData"
using "Target_SpikeGrowth_4"
data "SpellProperties" "GROUND:CreateSurface(8,10,SpikeGrowth,true)"
data "AreaRadius" "8"
data "UseCosts" "ActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Target_SpikeGrowth_5"
type "SpellData"
using "Target_SpikeGrowth_5"
data "SpellProperties" "GROUND:CreateSurface(10,10,SpikeGrowth,true)"
data "AreaRadius" "10"

new entry "Target_SpikeGrowth_6"
type "SpellData"
using "Target_SpikeGrowth_6"
data "SpellProperties" "GROUND:CreateSurface(12,10,SpikeGrowth,true)"
data "AreaRadius" "12"